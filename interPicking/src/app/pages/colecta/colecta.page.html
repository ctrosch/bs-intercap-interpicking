<ion-header no-border="no-border">
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-back-button defaultHref="/"></ion-back-button>
        </ion-buttons>

        <ion-title ion-text-capitalize="ion-text-capitalize">Colecta</ion-title>

        <ion-buttons slot="end">
            <ion-button shape="round" (click)="cargarPendientes()" color="danger">
                <ion-icon slot="icon-only" name="refresh-circle"></ion-icon>
            </ion-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>

<ion-content>

    <ion-list>
        <ion-item *ngFor="let i of datos" (click)="seleccionarItem( i )">
            <!--
                    <ion-icon
                        slot="start"
                        name="{{ i.ESTPCK == 'A'? 'close-circle' : 'checkmark-circle' }}"
                        size="large"
                        color="{{ i.ESTPCK == 'A'? 'danger' : 'success' }}"
                    ></ion-icon>
        
                    -->

            <ion-avatar slot="start">
                <img [src]="i.IMGPRD" />
            </ion-avatar>

            <ion-label>
                <h2>{{ i.DESCRP }}</h2>

                <p>{{ i.TIPPRO }} - {{ i.ARTCOD }}</p>

                <p>{{ i.NOMBRE }}</p>

                <p>Ubicación: {{ i.NUBICA }}</p>

                <p>Código Barra: {{ i.CODBAR }}</p>
            </ion-label>

            <ion-chip slot="end" color="{{ i.CNTPCK == 0 ? 'danger' : i.ESTPCK == 'A'? 'warning' : 'success' }}">
                <ion-label>
                    {{ i.CNTPCK }} / {{ i.CANTID }}
                </ion-label>
            </ion-chip>
        </ion-item>
    </ion-list>
</ion-content>

<ion-footer>
    <ion-toolbar>
        <ion-input [(ngModel)]="codigoManual" (keyup.enter)="procesarCodigoManual()"></ion-input>

        <ion-buttons slot="end">
            <ion-button shape="round" (click)="procesarCodigoBarra()" color="success">
                <ion-icon slot="icon-only" name="add"> </ion-icon>
            </ion-button>

            <ion-button shape="round" (click)="scanCode()" color="primary">
                <ion-icon slot="icon-only" name="barcode"></ion-icon>
            </ion-button>

            <ion-button shape="round" (click)="confirmarColecta()" color="secondary">
                <ion-icon slot="icon-only" name="send"></ion-icon>
            </ion-button>

        </ion-buttons>
    </ion-toolbar>
</ion-footer>